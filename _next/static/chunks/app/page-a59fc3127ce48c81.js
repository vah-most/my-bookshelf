(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{84509:function(e,t,o){Promise.resolve().then(o.bind(o,69461)),Promise.resolve().then(o.t.bind(o,68358,23))},32297:function(e,t,o){"use strict";o.d(t,{Z:function(){return v}});var n=o(57437),a=o(2265),r=o(34098),i=o.n(r),s=o(81179),l=o(35847),c=o(56154);o(50044);var d=e=>{let{className:t,size:o="small",...a}=e;return(0,n.jsx)(l.Z,{injectFirst:!0,children:(0,n.jsx)(c.Z,{className:"textFieldView ".concat(t),size:o,...a})})},m=o(25927);o(92361);var u=e=>{let{children:t,className:o,onClick:a,...r}=e;return(0,n.jsx)(m.Z,{onClick:a,className:"button__container ".concat(o),...r,children:t})},_=o(18336);o(552);var v=e=>{let{book:t,onClose:o,onSave:r}=e,[l,c]=(0,a.useState)(t),[m,v]=(0,a.useState)(!0),b=(e,t)=>{let o=i()(l);o[e]=t,c(o)},p=()=>{if(!l.name)return!1;r(l)};return(0,n.jsx)(_.Z,{visible:!0,onClose:o,title:l.id?"Edit Book Details":"Add Book Details",className:"book-list__editor-modal",portalId:"portal-modal-id",children:(0,n.jsxs)("div",{className:"book-editor__container",children:[(0,n.jsxs)("div",{className:"book-editor__rows",children:[(0,n.jsx)("div",{className:"book-editor__row",children:(0,n.jsx)(d,{autoFocus:!0,error:!m&&""===l.name,helperText:m||l.name?"":"Please enter name.",className:"book-editor__row-name",label:"Name",onBlur:()=>v(!1),onChange:e=>{b("name",e.target.value)},value:l.name})}),(0,n.jsxs)("div",{className:"book-editor__row",children:[(0,n.jsx)(d,{className:"book-editor__row-category",label:"Category",onChange:e=>{b("category",e.target.value)},value:l.category}),(0,n.jsx)(d,{className:"book-editor__row-price",label:"Price",type:"number",onChange:e=>{let t=Number(e.target.value);b("price",t)},value:l.price}),(0,n.jsx)(s.Z,{className:"book-editor__currency-icon"})]}),(0,n.jsx)("div",{className:"book-editor__row",children:(0,n.jsx)(d,{className:"book-editor__row-desc",label:"Description",multiline:!0,minRows:3,maxRows:3,onChange:e=>{b("description",e.target.value)},value:l.description})})]}),(0,n.jsx)("div",{className:"book-editor__row book-editor__submit-row",children:(0,n.jsx)(u,{className:"book-editor__save-btn",onClick:()=>p(),variant:"contained",children:"Save"})})]})})}},18336:function(e,t,o){"use strict";o.d(t,{Z:function(){return s}});var n=o(57437),a=o(2265),r=o(36651),i=o(54887);o(47341);var s=e=>{let{portalId:t,children:o,onClose:s,className:l,title:c="",visible:d=!1,hideTitle:m=!1}=e,u=e=>{"Escape"===e.key&&s()};(0,a.useEffect)(()=>(document.addEventListener("keydown",u,!1),()=>{document.removeEventListener("keydown",u,!1)}),[]);let _=(0,n.jsx)("div",{className:"modal__container ".concat(d?"modal__container--visible":""),onClick:s,children:(0,n.jsxs)("div",{className:"modal__box ".concat(l),onClick:e=>{e.preventDefault(),e.stopPropagation()},children:[!m&&(0,n.jsxs)("div",{className:"modal__title",children:[(0,n.jsx)("div",{children:c}),(0,n.jsx)("div",{className:"modal__close-btn",onClick:s,children:(0,n.jsx)(r.Z,{})})]}),(0,n.jsx)("div",{className:"modal__content",children:o})]})});return t&&document.getElementById(t)?i.createPortal(_,document.getElementById(t)):_}},69461:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return f}});var n=o(57437),a=o(2265),r=o(3198);o(39107);var i=o(25927),s=o(18336);o(12952);var l=e=>{let{className:t,title:o,message:a,onOk:r,onCancel:l}=e;return(0,n.jsx)(s.Z,{className:"prompt-modal ".concat(t),onClose:()=>l(),title:o||"Warning",visible:!0,portalId:"portal-prompt-id",children:(0,n.jsxs)("div",{className:"prompt-modal__box",children:[(0,n.jsx)("div",{className:"prompt-modal__message",children:a}),(0,n.jsxs)("div",{className:"prompt-modal__btns",children:[(0,n.jsx)(i.Z,{"data-testid":"prompt-modal__ok-btn",variant:"contained",className:"prompt-modal__ok-btn",onClick:r,children:"OK"}),l&&(0,n.jsx)(i.Z,{"data-testid":"prompt-modal__cancel-btn",variant:"contained",className:"prompt-modal__cancel-btn",onClick:l,children:"Cancel"})]})]})})},c=o(74275),d=o.n(c),m=["color","size","title"];function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}var _=(0,a.forwardRef)(function(e,t){var o=e.color,n=e.size,r=e.title,i=function(e,t){if(null==e)return{};var o,n,a=function(e,t){if(null==e)return{};var o,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(a[o]=e[o]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}(e,m);return a.createElement("svg",u({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:n,height:n,fill:o},i),r?a.createElement("title",null,r):null,a.createElement("path",{d:"M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z"}))});_.propTypes={color:d().string,size:d().oneOfType([d().string,d().number]),title:d().string},_.defaultProps={color:"currentColor",size:"1em",title:null};var v=e=>{let{book:t,className:o="",onDelete:r,onSelect:i}=e,[s,c]=(0,a.useState)(!1);return(0,n.jsxs)("div",{"data-testid":"book-item__container",className:"book-item__container ".concat(o),onClick:()=>{i&&i(t.id)},children:[(0,n.jsxs)("div",{className:"book-item__title",children:[(0,n.jsx)("div",{className:"book-item__name",children:t.name}),(0,n.jsx)("div",{className:"book-item__category",children:t.category})]}),(0,n.jsxs)("div",{className:"book-item__price",children:[t.price,"$"]}),(0,n.jsx)("div",{className:"book-item__desc",children:t.description}),(0,n.jsx)("div",{"data-testid":"book-item__delete",className:"book-item__delete",onClick:e=>{e.preventDefault(),e.stopPropagation(),c(!0)},children:(0,n.jsx)(_,{className:"book-item__delete-icon"})}),s&&(0,n.jsx)(l,{message:"Are you sure?",onCancel:()=>c(!1),onOk:()=>{c(!1),r&&r(t.id)}})]})},b=o(55301),p=o(32297);o(80772);var h=()=>{let{books:e}=(0,r.v9)(e=>e.books),t=(0,r.I0)(),[o,i]=(0,a.useState)(null),s=t=>{let o=e.find(e=>e.id===t);o&&i(o)},l=e=>{t((0,b.MC)(e))};return(0,n.jsxs)("div",{className:"book-list__container",children:[e.length>0?(0,n.jsx)("div",{className:"book-list__items",children:e.map(e=>(0,n.jsx)(v,{book:e,onSelect:s,onDelete:l},e.id))}):(0,n.jsx)("div",{"data-testid":"book-list__empty",className:"book-list__empty",children:"No books added yet."}),o&&(0,n.jsx)(p.Z,{book:o,onClose:()=>i(null),onSave:e=>{i(null),t(e.id?(0,b.yG)(e):(0,b.TA)(e))}})]})},k=o(3329);o(58514);var f=()=>(0,n.jsx)("div",{className:"books-page__container",children:(0,n.jsx)(k.Z,{children:(0,n.jsx)(h,{})})})},55301:function(e,t,o){"use strict";o.d(t,{MC:function(){return d},TA:function(){return l},yG:function(){return c}});var n=o(20064),a=o(35997),r=o.n(a),i=o(38324);let s=(0,n.oM)({name:"books",initialState:{books:[]},reducers:{addBook:(e,t)=>{let o=r()(e.books),n=(0,i.n)(),a=r()(t.payload),s={...a,id:n};o.push(s),e.books=o},modifyBook:(e,t)=>{let o=r()(t.payload),n=o.id,a=e.books.findIndex(e=>e.id===n);if(a>=0){let t=r()(e.books);t[a]=o,e.books=t}},deleteBook:(e,t)=>{let o=t.payload,n=e.books,a=n.filter(e=>e.id!==o);e.books=a}}}),{addBook:l,modifyBook:c,deleteBook:d}=s.actions;t.ZP=s.reducer},3329:function(e,t,o){"use strict";var n=o(57437),a=o(20064),r=o(55301),i=o(3198);let s=(0,a.xC)({reducer:{books:r.ZP}});t.Z=e=>{let{children:t}=e;return(0,n.jsx)(i.zt,{store:s,children:t})}},38324:function(e,t,o){"use strict";o.d(t,{n:function(){return r},u:function(){return i}});var n=o(62067),a=o.n(n);let r=()=>{let e="".concat(a()().unix()).concat(Math.floor(1e6*Math.random()));return e},i=()=>({name:"",description:"",price:0,category:"",id:""})},552:function(){},39107:function(){},80772:function(){},92361:function(){},47341:function(){},12952:function(){},50044:function(){},58514:function(){},68358:function(e){e.exports={home__container:"page_home__container__JJcNz"}}},function(e){e.O(0,[990,30,971,596,744],function(){return e(e.s=84509)}),_N_E=e.O()}]);